<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>IRMA attribute verification example</title>
    <script src="irma.js" defer></script>
    <script type="text/javascript">
      function doSession() {
        const server = document.getElementById('server').value;
        const request = {
          'type': 'disclosing',
          'content': [{
            'label': 'Over 18',
            'attributes': [ 'irma-demo.MijnOverheid.ageLower.over18' ]
          }]
        };

        irma.startSession(server, request)
          .then(qr => irma.handleSession(server, qr, {method: 'popup', language: 'en'}))
          .then(result => console.log('Done', result));
      }

      window.onload = function() {
        document.getElementById('server').value = window.location.origin;
        document.getElementById('test').addEventListener('click', doSession);
      };
    </script>
  </head>
  <body>
    <label for="server">Server:</label>
    <input id="server" type="text" style="width:20em">
    <br/>
    <button id="test">Test</button>
  </body>
</html>
